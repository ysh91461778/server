/* ========== 색 · 폰트 ========== */
:root{
  --bg-light:#f8f9fc;        --bg-dark:#0d1117;
  --card-light:#ffffff;      --card-dark:#1e293b;
  --accent:#3b82f6;          --accent-dark:#60a5fa;
  --text:#111827;            --text-dark:#e5e7eb;
  --radius:18px;             --shadow:0 6px 14px rgba(0,0,0,.08);
}

/* ========== body & 헤더 ========== */
body{
  font-family:'Noto Sans KR',system-ui,sans-serif;
  margin:2rem auto; max-width:1280px;
  background:var(--bg-light); color:var(--text); transition:.25s;
}
body.dark{background:var(--bg-dark); color:var(--text-dark)}

header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.6rem}
#clock{font-weight:500;font-size:1.4rem;opacity:.85}

/* ─── 입력·셀렉터·버튼 공통 ─── */
input[type="text"],
input[type="number"],
select,
button{
  font:15px/1.4 'Noto Sans KR',system-ui,sans-serif;
  padding:6px 12px;
  border:1px solid #cbd5e1;
  border-radius:8px;
  transition:border-color .2s, box-shadow .2s;
}
input:focus,select:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 3px rgba(59,130,246,.25);
}

body.dark input[type="text"],
body.dark input[type="number"],
body.dark select{
  background:#1e293b;
  border-color:#475569;
  color:#e2e8f0;
}
body.dark input:focus,
body.dark select:focus{
  border-color:var(--accent-dark);
  box-shadow:0 0 0 3px rgba(96,165,250,.35);
}

/* ─── 토글 스위치 ─── */
.switch{position:relative;width:50px;height:26px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;inset:0;border-radius:9999px;background:#cbd5e1;transition:.25s}
.slider:before{content:"";position:absolute;left:4px;top:4px;width:18px;height:18px;border-radius:50%;background:#fff;transition:.25s}
input:checked + .slider{background:var(--accent)}
input:checked + .slider:before{transform:translateX(24px)}
body.dark .slider{background:#475569}

/* ─── 플레이어 & 재생목록 ─── */
#playerBox{display:flex;gap:1.5rem;align-items:flex-start;flex-wrap:nowrap}
.player-card{flex:0 0 720px;border-radius:20px;overflow:hidden;background:#000}
#player{display:block;width:100%;height:405px;border:0}

#vidList{
  flex:0 0 200px;min-width:0;
  max-height:405px;overflow-y:auto;overflow-x:hidden;
  list-style:none;margin:0;padding:0;font-size:15px;
}
#vidList li{
  padding:.55rem .8rem;margin:.15rem 0;border-radius:10px;cursor:pointer;
  white-space:normal;word-break:break-all;
  transition:background .2s;
}



#vidList li:hover{background:rgba(0,0,0,.05)}
#vidList li.active{background:var(--accent);font-weight:600}
body.dark #vidList li{color:var(--text-dark)}
body.dark #vidList li:hover{background:#334155}
body.dark #vidList li.active{background:var(--accent-dark);color:#fff!important}

@media(max-width:700px){
  #playerBox{flex-direction:column}
  #vidList{width:100%;flex:auto;max-height:220px}
}

/* ─── 자료 다운로드 ─── */
h3{margin:1.7rem 0 .7rem}
#matList{margin:0;padding-left:0}
#matList li{list-style:none;display:flex;align-items:center;gap:.35rem;margin:.3rem 0}
#matList li::before{content:"⇩";font-size:.9rem;opacity:.65}
#matList a{color:var(--accent);text-decoration:none;transition:color .2s}
#matList a:hover{text-decoration:underline;color:#004c9e}
body.dark #matList a{color:#a5d8ff}
body.dark #matList a:hover{color:#cfe6ff}

/* ─── 자료 삭제 버튼 ─── */
.delMat {
  /* 배경 · 글자색 */
  background: var(--accent);
  color: #fff;

  /* 테두리 없음 */
  border: none;

  /* 약간 둥근 모서리 */
  border-radius: 8px;

  /* 여유 있는 패딩 */
  padding: 6px 10px;

  /* 텍스트 크기(쓰레기통 이모지 크기) */
  font-size: 18px;

  /* 버튼처럼 포인터 모양 */
  cursor: pointer;

  /* flex로 가운데 정렬 */
  display: inline-flex;
  align-items: center;
  justify-content: center;

  /* transition 제거 */
  transition: none;
}

/* hover 효과도 없애기 (똑같이 보이도록) */
.delMat:hover {
  background: var(--accent);
}

/* 버튼 박스엔 transform 절대 걸리지 않도록 */
.icon-btn { transform: none; }

/* 아이콘만 회전 */
.icon-rotate {
  display: inline-block;
  transition: transform .2s ease;
}
.icon-btn:hover .icon-rotate {
  transform: rotate(90deg);
}

#setPanel{
  position:absolute;top:62px;right:32px;z-index:2000;
  width:220px;padding:14px 16px;display:none;flex-direction:column;gap:10px;
  background:var(--card-light);border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.18);
}
#setPanel.open{display:flex;animation:panelIn .25s ease-out}
@keyframes panelIn{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
body.dark #setPanel{background:var(--card-dark)}

a.btn-link{background:#eef1ff;border-radius:8px;padding:6px 10px;display:inline-block;text-align:center}
a.btn-link:hover{background:#dfe3ff}
body.dark a.btn-link{background:#334155;color:#e2e8f0}
body.dark a.btn-link:hover{background:#475569}

/* ─── 관리자 전용 표 & 버튼 ─── */
table{border-collapse:collapse;width:100%;font-size:.88rem}
th,td{border:1px solid #e2e8f0;padding:.45rem .5rem;text-align:center}
th{background:#f1f5f9;font-weight:600}
tbody tr:nth-child(odd){background:#f9fafb}

body.dark th{background:#1e293b;border-color:#334155}
body.dark td{border-color:#334155}
body.dark tbody tr:nth-child(odd){background:#1b2230}

/* ── 라이트 모드 텍스트·숫자 입력 스타일 통일 ───────────── */
input[type="text"],
input[type="number"]{
  background:#f1f5f9;            /* 드롭다운(공수1)과 같은 색계열 */
  border:1px solid #cbd5e1;
  border-radius:8px;
  color:#111827;
}

/* ── 다크 모드 동일하게 맞추기 ──────────────────────────── */
body.dark input[type="text"],
body.dark input[type="number"]{
  background:#1e293b;            /* = 드롭다운 배경 */
  border-color:#334155;
  color:#e2e8f0;
}
body.dark input::placeholder{color:#64748b;}      /* placeholder 연하게 */

/* ── 다크모드 입력상자 색 수정 ─────────────────────────── */
body.dark input[type="text"],
body.dark input[type="number"]{
  background:#1e293b;       /* 드롭다운과 동일 */
  border-color:#334155;     /* 살짝 밝은 테두리 */
  color:#e2e8f0;
}
body.dark input::placeholder{color:#64748b;}   /* placeholder도 연하게 */

input[type="text"],
input[type="number"],
select,
button{
  height: 36px;                 /* 동일 높이 */
  padding: 0 14px;              /* 좌·우 동일 */
  border-radius: 14px;          /* 둥근 모서리 통일 */
  font: 15px/1 'Noto Sans KR', system-ui, sans-serif;
  border: 1px solid #cbd5e1;
  background: #f1f5f9;
  transition: border-color .2s, box-shadow .2s, background .2s;
}

/* ⓶ 버튼만 색상 강조 */
button{
  background: #3b82f6;
  color: #fff;
  border: none;
}
button:hover{ background:#2563eb }

/* ⓷ focus style(입력·셀렉터 공통) */
input:focus,
select:focus{
  outline: none;
  border-color:#3b82f6;
  box-shadow:0 0 0 3px rgba(59,130,246,.25);
}

/* ⓸ 다크 모드 색상 보정 */
body.dark input[type="text"],
body.dark input[type="number"],
body.dark select{
  background:#1e293b;
  border-color:#334155;
  color:#e2e8f0;
}
body.dark button{
  background:#60a5fa;
}
body.dark button:hover{
  background:#3b82f6;
}
body.dark input:focus,
body.dark select:focus{
  border-color:#60a5fa;
  box-shadow:0 0 0 3px rgba(96,165,250,.35);
}

/* ─── 링크 색상 (다크모드에서도 잘 보이도록) ─── */
/* 기본 링크 */
a {
  color: var(--accent);
  text-decoration: underline;
  transition: color .2s;
}
a:hover {
  color: var(--accent-dark);
}

/* 다크 모드용 링크 */
body.dark a {
  /* 더 밝은 파랑 계열 */
  color: var(--accent-dark);
}
body.dark a:hover {
  /* 호버 땐 기본 accent 색 */
  color: var(--accent);
}

/* 영상 관리 폼 – 서술형 번호 입력란 폭 조정 */
#exNumHigh,
#exNumMid,
#exNumLow {
  width: 6rem;   /* 필요에 따라 4rem, 6rem 등으로 조절하세요 */
}

/* ── 숫자 입력 스피너 제거 ── */
/* Chrome, Safari, Edge, Opera */
#vChap::-webkit-outer-spin-button,
#vChap::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
/* Firefox */
#vChap {
  -moz-appearance: textfield;
}

/* Spinner 제거: Chrome, Safari, Edge */
#vChap::-webkit-outer-spin-button,
#vChap::-webkit-inner-spin-button,
#exNumHigh::-webkit-outer-spin-button,
#exNumHigh::-webkit-inner-spin-button,
#exNumMid::-webkit-outer-spin-button,
#exNumMid::-webkit-inner-spin-button,
#exNumLow::-webkit-outer-spin-button,
#exNumLow::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox 에도 적용 */
#vChap,
#exNumHigh,
#exNumMid,
#exNumLow {
  -moz-appearance: textfield;
}


.form-row select,
.form-row input[type="number"],
.form-row input[type="text"] {
  box-sizing: border-box;
  height: 36px;
  padding: 0 14px;
  font: 15px/1 'Noto Sans KR', system-ui, sans-serif;
  border: 1px solid #cbd5e1;
  border-radius: 14px;
  background: #f1f5f9;
  color: #111827;
  transition: border-color .2s, box-shadow .2s, background .2s;
}

/* 다크 모드 */
body.dark .form-row select,
body.dark .form-row input[type="number"],
body.dark .form-row input[type="text"] {
  background: #1e293b;
  border-color: #334155;
  color: #e2e8f0;
}

/* ─── 폭(width)만 조절 ─── */
#vChap { width: 4rem; }
#exNumHigh,
#exNumMid,
#exNumLow { width: 5rem; }
#vTitle { width: 12rem; }
#vUrl   { width: 16rem; }

/* ─── 숫자 입력 스피너 제거 ─── */
/* Chrome, Safari, Edge */
#vChap::-webkit-outer-spin-button,
#vChap::-webkit-inner-spin-button,
#exNumHigh::-webkit-outer-spin-button,
#exNumHigh::-webkit-inner-spin-button,
#exNumMid::-webkit-outer-spin-button,
#exNumMid::-webkit-inner-spin-button,
#exNumLow::-webkit-outer-spin-button,
#exNumLow::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
/* Firefox */
#vChap,
#exNumHigh,
#exNumMid,
#exNumLow {
  -moz-appearance: textfield;
}

#stuName     { width: 8rem; }   /* 이름 */
#curSel      { width: 6rem; }   /* 커리큘럼 */
#levelSel    { width: 7rem; }   /* 레벨 */
#d1, #d2, #d3{ width: 5rem; }   /* 요일1/2/3 */

#stuName {
  white-space: nowrap;
}

#logModal {
  color: var(--text);            /* 제목·라벨 글자색을 본문 색으로 */
  background: var(--card-light); /* 모달 배경이 흰색이라면 기본 카드 배경 */
}

/* 제목(h3) / 라벨 / 버튼 텍스트 */
#logModal h3,
#logModal label,
#logModal button {
  color: var(--text) !important;
}

/* 입력창, textarea 텍스트 및 배경 */
#logModal input,
#logModal textarea {
  color: var(--text) !important;
  background: #f1f5f9 !important;
  border: 1px solid #cbd5e1 !important;
}

/* 다크 모드일 때도 동일하게 검정 텍스트 유지 */
body.dark #logModal,
body.dark #logModal h3,
body.dark #logModal label,
body.dark #logModal input,
body.dark #logModal textarea,
body.dark #logModal button {
  color: var(--text) !important;
}

/* 1) 모달 오버레이(반투명 검정)는 그대로 */
#vidModal {
  background: rgba(0,0,0,.45) !important;
}

/* 2) 콘텐츠 박스와 내부 요소들 강제 스타일 */
#vidModal > div,
#vidModal > div * {
  background: var(--card-light) !important;
  color:      var(--text)       !important;
  opacity:    1                 !important;
}

/* 3) 다크 모드 전환 시 */
body.dark #vidModal > div,
body.dark #vidModal > div * {
  background: var(--card-dark)  !important;
  color:      var(--text-dark)  !important;
  opacity:    1                 !important;
}

/* 제목(h3)과 버튼 텍스트도 별도 지정 */
#vidModal h3,
#vidModal button {
  color: var(--text)       !important;
}
body.dark #vidModal h3,
body.dark #vidModal button {
  color: var(--text-dark)  !important;
}
/* 진도 체크박스 그리드 레이아웃 */
#logProgress.progress-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(60px,1fr));
  gap: 6px;
  margin: .5rem 0;
}
.progress-cell {
  padding: 6px;
  text-align: center;
  border: 1px solid #cbd5e1;
  border-radius: 4px;
  cursor: pointer;
  user-select: none;
  background: var(--card-light);
  color: var(--text);
}
/* 마우스 우클릭 방지 */
.progress-cell { -webkit-touch-callout: none; }
/* 상태별 색상 */
.progress-cell[data-state="done"] {
  background: #4ade80;    /* 완료 → 초록 */
  color: #fff;
}
.progress-cell[data-state="interrupted"] {
  background: #facc15;    /* 중단 → 노랑 */
  color: #111;
}
.progress-cell[data-state="skip"] {
  background: #f87171;    /* 듣지 않음 → 빨강 */
  color: #fff;
}

/* 다크 모드 조정 */
body.dark .progress-cell {
  background: var(--card-dark);
  border-color: #475569;
  color: var(--text-dark);
}
body.dark .progress-cell[data-state="done"] {
  background: #22c55e;
}
body.dark .progress-cell[data-state="interrupted"] {
  background: #eab308;
}
body.dark .progress-cell[data-state="skip"] {
  background: #dc2626;
}

#toggleVid {
  font-size: .88rem;
  padding: 4px 8px;
}

#extraModal,
#extraModal * {
  color: var(--text) !important;
  background: var(--card-light) !important;
}

body.dark #extraModal,
body.dark #extraModal * {
  color: var(--text-dark) !important;
}

#extraModal {
  /* inline style (display/position/inset) 그대로 먹히도록 아무것도 안 건드립니다 */
  background: rgba(0,0,0,.45) !important;
}

/* 카드 컨테이너와 내부 텍스트만 컬러·배경 강제 지정 */
#extraModal > div,
#extraModal > div * {
  color: var(--text)       !important;
  background: var(--card-light) !important;
  opacity: 1               !important;
}

/* 다크 모드일 때 카드만 어둡게 */
body.dark #extraModal > div,
body.dark #extraModal > div * {
  color:      var(--text-dark)  !important;
  background: var(--card-dark)  !important;
}

#vidList li.active span {
  color: #fff !important;
  text-decoration: underline; /* 필요 없으면 빼셔도 됩니다 */
}

.progress-cell a {
  color: #fff !important;
}

.sortable-ghost {
  opacity: 0.5;
  background: #f0f8ff;
}